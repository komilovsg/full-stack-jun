# üöÄ ARD - AI Report Digest

> **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤. –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ç–Ω–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫—Ä–∞—Ç–∫–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç.**

**ARD (AI Report Digest)** ‚Äî —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –¥–ª—è Telegram-–≥—Ä—É–ø–ø —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ Telegram-–±–æ—Ç–∞ –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—â–µ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π.

**ü§ñ –ë–æ—Ç –≤ Telegram:** [@reports_fsd_bot](https://t.me/reports_fsd_bot)

**üìù –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç:**
- üìù **–ö—Ä–∞—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑ (Summary)** ‚Äî –≤—ã–¥–µ–ª—è–µ—Ç —Å—É—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–π –∑–∞ –¥–µ–Ω—å
- ‚úÖ **Action Items** ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –ø–æ—Ä—É—á–µ–Ω–∏—è –∏ –∑–∞–¥–∞—á–∏ –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫
- üîç **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** ‚Äî –ø–æ–Ω–∏–º–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–µ —Ç–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

**üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å:** –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ —Å–¥–µ–ª–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (—á—Ç–æ–±—ã –æ–Ω –º–æ–≥ –≤–∏–¥–µ—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è).

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** –§–∞–π–ª `.env` —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ **–Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ git** (–¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`).

**–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–∞:**
1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`: `cp .env.example .env`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ **—Å–≤–æ–∏–º–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏**
3. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** `.env` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Ä–∞–∑–¥–µ–ª–µ [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è).

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [API Routes (–†–æ—É—Ç-–º—ç–ø)](#-api-routes-—Ä–æ—É—Ç-–º—ç–ø)
- [–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞](#-–∫–æ–º–∞–Ω–¥—ã-–±–æ—Ç–∞)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-ai)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ü§ñ Telegram-–±–æ—Ç

- **üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞** (`/stats`)
  - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é: –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
  - –§–∏–ª—å—Ç—Ä—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º: —Å–µ–≥–æ–¥–Ω—è, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –≤—Å—ë –≤—Ä–µ–º—è
  - Inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Redis (20 –º–∏–Ω—É—Ç)

- **üîç –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (`/analyze`)
  - AI-–∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ 3 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
    - **DeepSeek** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
    - **Qwen** (Alibaba Model Studio, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
    - **Gemini** (Google, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
  - –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 30 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å: —Å—Ç–∏–ª—å, —Ç–µ–º—ã, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **üìù –î–Ω–µ–≤–Ω–æ–π –¥–∞–π–¥–∂–µ—Å—Ç** (`/digest`) ‚Äî *—Å–≤–æ—è —Ñ–∏—á–∞*
  - **üìù –ö—Ä–∞—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑ (Summary):** –í—ã–¥–µ–ª—è–µ—Ç —Å—É—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–π –∑–∞ –¥–µ–Ω—å
  - **‚úÖ Action Items:** –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –ø–æ—Ä—É—á–µ–Ω–∏—è –∏ –∑–∞–¥–∞—á–∏ –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫
  - **üîç –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:** –ü–æ–Ω–∏–º–∞–µ—Ç –≥–ª–∞–≤–Ω—ã–µ —Ç–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
  - –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö
  - –¢—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

- **üíæ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `chat_id` –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö

### üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **üìä –î–∞—à–±–æ—Ä–¥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**
  - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞ (—Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
  - –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
  - –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

- **üîç –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
  - –í—ã–±–æ—Ä LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Qwen / DeepSeek / Gemini)
  - –ê–Ω–∞–ª–∏–∑ –ø–æ username
  - –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –æ–±—â–µ–Ω–∏—è
  - –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤

- **‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
  - Side-by-side —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª—è, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

- **üé® –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI**
  - Glassmorphism –¥–∏–∑–∞–π–Ω
  - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
  - –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
  - –¢–µ–º–Ω–∞—è —Ç–µ–º–∞

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Node.js 20** + **TypeScript 5.4**
- **Telegraf 4.16** ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è Telegram –±–æ—Ç–æ–≤
- **PostgreSQL 15** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—á–∏—Å—Ç—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã)
- **Redis 7** ‚Äî –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### Frontend
- **Next.js 15** (App Router)
- **React 19** + **TypeScript**
- **CSS Modules** ‚Äî —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### AI/LLM
- **Google Gemini API** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- **DeepSeek API** ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- **Qwen API** (Alibaba Model Studio) ‚Äî OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Docker Compose** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
- **Vitest** ‚Äî unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
git clone <repository-url>
cd full-stack-jun
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

> **üîí –í–∞–∂–Ω–æ:** –§–∞–π–ª `.env` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `.gitignore` –∏ **–Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ git**. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –≤ –Ω—ë–º —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ API.

**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞:**

```bash
cp .env.example .env
```

**–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏:**

```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
BOT_TOKEN=your_bot_token_here

# PostgreSQL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5433)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=telegram_bot
POSTGRES_PORT=5433

# LLM API Keys (–º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
GEMINI_API_KEY=your_gemini_key
DEEPSEEK_API_KEY=your_deepseek_key
DASHSCOPE_API_KEY=your_qwen_key
DASHSCOPE_BASE_URL=https://dashscope-intl.aliyuncs.com/compatible-mode/v1
DASHSCOPE_MODEL=qwen-plus

# –ü–æ—Ä—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
WEB_PORT=3001
```

> **‚ö†Ô∏è –í–ê–ñ–ù–û:** 
> - –ó–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è `your_*_key_here` –Ω–∞ **—Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏** –∏–∑ –≤–∞—à–∏—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
> - **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** —Ñ–∞–π–ª `.env` –≤ git (–æ–Ω —É–∂–µ –≤ `.gitignore`)
> - –§–∞–π–ª `.env.example` ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π
> - –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ **–æ–¥–Ω–æ–≥–æ API –∫–ª—é—á–∞**. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã.

**–ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏:**
- **BOT_TOKEN:** [@BotFather](https://t.me/BotFather) –≤ Telegram
- **GEMINI_API_KEY:** [Google AI Studio](https://aistudio.google.com/app/apikey)
- **DEEPSEEK_API_KEY:** [DeepSeek Platform](https://platform.deepseek.com/)
- **DASHSCOPE_API_KEY:** [Alibaba Model Studio](https://modelstudio.console.alibabacloud.com/)

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
docker-compose up --build
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
- ‚úÖ –°–æ–±–µ—Ä—ë—Ç Docker –æ–±—Ä–∞–∑—ã –¥–ª—è `bot` –∏ `web`
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç PostgreSQL –∏ Redis
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î (–∏–∑ `db/init.sql`)
- ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞ –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

**Telegram-–±–æ—Ç:**

**üîç –ö–∞–∫ –Ω–∞–π—Ç–∏ –±–æ—Ç–∞:**
- –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –ø–æ username: **[@reports_fsd_bot](https://t.me/reports_fsd_bot)**
- –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–∏—Å–∫ –≤ Telegram: `@reports_fsd_bot`

**üìù –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫:**
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç
2. –°–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º (—á—Ç–æ–±—ã –æ–Ω –≤–∏–¥–µ–ª –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` ‚Äî –±–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
   - `/stats` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞
   - `/analyze @username` ‚Äî –∞–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `/digest` ‚Äî –¥–Ω–µ–≤–Ω–æ–π –¥–∞–π–¥–∂–µ—Å—Ç

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
- –í—ã —É–≤–∏–¥–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
full-stack-jun/
‚îÇ
‚îú‚îÄ‚îÄ üìÇ bot/                          # Telegram-–±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.ts         # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL –∏ Redis
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ models/                # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (ORM-–ø–æ–¥–æ–±–Ω—ã–π —Å–ª–æ–π)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ User.ts              # –†–∞–±–æ—Ç–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π users
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ User.test.ts         # –¢–µ—Å—Ç—ã –¥–ª—è User
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Message.ts            # –†–∞–±–æ—Ç–∞ —Å —Ç–∞–±–ª–∏—Ü–µ–π messages
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ statsService.ts      # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ geminiService.ts      # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gemini API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ deepseekService.ts    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DeepSeek API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ qwenService.ts       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Qwen API
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ digestService.ts     # –î–Ω–µ–≤–Ω–æ–π –¥–∞–π–¥–∂–µ—Å—Ç —á–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ *.test.ts            # Unit-—Ç–µ—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ handlers/              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ Telegram
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ statsHandlers.ts     # /stats –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyzeHandlers.ts   # /analyze –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ digestHandlers.ts    # /digest –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ statsHandlers.test.ts
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                   # Docker –æ–±—Ä–∞–∑ –¥–ª—è –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ package.json                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json                # TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ vitest.config.ts             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ üìÇ web/                           # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Next.js)
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ api/                  # API Routes (Backend)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ analyze/
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ route.ts         # POST /api/analyze
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ overview/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ route.ts         # GET /api/overview
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                 # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–ª–µ–Ω–¥–∏–Ω–≥)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx               # Root layout
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ globals.css              # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                   # Docker –æ–±—Ä–∞–∑ –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ next.config.js               # Next.js –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ .env.local                   # –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ üìÇ db/                            # SQL —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ init.sql                     # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)
‚îÇ
‚îú‚îÄ‚îÄ üìÑ docker-compose.yml            # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ üìÑ .env                          # ‚ö†Ô∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –≤ git, —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é!)
‚îú‚îÄ‚îÄ üìÑ .env.example                  # üìã –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ .env)
‚îú‚îÄ‚îÄ üìÑ README.md                     # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ üìÑ task.md                       # –ò—Å—Ö–æ–¥–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ üìÑ API_ISSUES.md                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–±–ª–µ–º–∞–º API
```

---

## üó∫ API Routes (–†–æ—É—Ç-–º—ç–ø)

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Next.js App Router)

#### `GET /` ‚Äî –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
**–û–ø–∏—Å–∞–Ω–∏–µ:** –õ–µ–Ω–¥–∏–Ω–≥ —Å –¥–∞—à–±–æ—Ä–¥–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ñ–æ—Ä–º–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞ (—Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ç–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö)
- –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ 30 –¥–Ω–µ–π
- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–æ—Ä–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–æ—Ä–º–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

#### `POST /api/analyze` ‚Äî –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ LLM

**Request Body:**
```json
{
  "username": "bykomilovsg",  // –∏–ª–∏ "@bykomilovsg"
  "provider": "qwen"           // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: "qwen" | "gemini" | "deepseek"
}
```

**Response (200 OK):**
```json
{
  "analysis": {
    "style": "–Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π",
    "topics": "–ø—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã",
    "averageLength": "14 —Å–∏–º–≤–æ–ª–æ–≤",
    "activity": "–≤—Ä–µ–º—è —Å—É—Ç–æ–∫ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ",
    "tone": "–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è",
    "features": "–∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ–º–∞–Ω–¥—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ /stats",
    "messageCount": 5,
    "period": "–≤—Å–µ –≤—Ä–µ–º—è"
  }
}
```

**–û—à–∏–±–∫–∏:**
- `400` ‚Äî Username –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –∏–ª–∏ –ø—É—Å—Ç–æ–π
- `404` ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- `500` ‚Äî –û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)

**–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
1. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `provider` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–Ω
2. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback: DeepSeek ‚Üí Qwen ‚Üí Gemini

---

#### `GET /api/overview` ‚Äî –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞
**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞

**Response (200 OK):**
```json
{
  "totalMessages": 100,
  "totalUsers": 5,
  "topUsers": [
    {
      "username": "bykomilovsg",
      "first_name": "Shakhron",
      "messageCount": 50
    }
  ],
  "allUsers": [
    {
      "id": 1,
      "telegramId": 123456789,
      "username": "bykomilovsg",
      "firstName": "Shakhron",
      "lastName": null,
      "messageCount": 50,
      "firstMessage": "2026-01-23T10:00:00Z",
      "lastMessage": "2026-01-23T16:00:00Z"
    }
  ],
  "messagesByDay": [
    {
      "date": "2026-01-23",
      "count": 10
    }
  ],
  "recentAnalyses": [
    {
      "username": "bykomilovsg",
      "analyzedAt": "2026-01-23T16:00:00Z"
    }
  ]
}
```

**–û—à–∏–±–∫–∏:**
- `500` ‚Äî –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

---

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### `/start`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```
/start
```

**–û—Ç–≤–µ—Ç:**
```
–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /stats –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
```

---

### `/stats`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞ —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –º–µ–Ω—é

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```
/stats
```

**–û—Ç–≤–µ—Ç:** –ú–µ–Ω—é —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏:
- üìä **–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ–≥–æ —á–∞—Ç–∞
- üë§ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞

**–ü–æ–¥–º–µ–Ω—é "–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞":**
- üìÖ **–ó–∞ —Å–µ–≥–æ–¥–Ω—è**
- üìÖ **–ó–∞ –Ω–µ–¥–µ–ª—é**
- üìÖ **–ó–∞ –º–µ—Å—è—Ü**
- üåê **–ó–∞ –≤—Å—ë –≤—Ä–µ–º—è**

**–ü–æ–¥–º–µ–Ω—é "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è":**
- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ (—Å–µ–≥–æ–¥–Ω—è / –Ω–µ–¥–µ–ª—è / –º–µ—Å—è—Ü / –≤—Å—ë –≤—Ä–µ–º—è)
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞ –ø–µ—Ä–∏–æ–¥

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Redis (20 –º–∏–Ω—É—Ç)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `chat_id` (–±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

---

### `/analyze`
**–û–ø–∏—Å–∞–Ω–∏–µ:** AI-–∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è –æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```
/analyze @username        # –ê–Ω–∞–ª–∏–∑ –ø–æ username
/analyze                  # –ê–Ω–∞–ª–∏–∑ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –∫–æ–º–∞–Ω–¥—ã
/analyze (reply –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)  # –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è
```

**–û—Ç–≤–µ—Ç:**
```
üîç –ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @bykomilovsg

üìù –°—Ç–∏–ª—å: –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π
üí¨ –¢–µ–º—ã: –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–æ—Ç–∞, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
üìè –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–π: 14 —Å–∏–º–≤–æ–ª–æ–≤
‚è∞ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –≤—Ä–µ–º—è —Å—É—Ç–æ–∫ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
üòä –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å: –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è
‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏: –∫–æ—Ä–æ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ–º–∞–Ω–¥—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ /stats

üìä –ù–∞ –æ—Å–Ω–æ–≤–µ 5 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è.

ü§ñ –ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω —á–µ—Ä–µ–∑ Qwen API
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–Ω–∞–ª–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 30 —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ (DeepSeek ‚Üí Qwen ‚Üí Gemini)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

---

### `/digest`
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–Ω–µ–≤–Ω–æ–π –¥–∞–π–¥–∂–µ—Å—Ç —á–∞—Ç–∞ (—Å–≤–æ—è —Ñ–∏—á–∞)

–ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Ç–Ω–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫—Ä–∞—Ç–∫–∏–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç –∑–∞ –¥–µ–Ω—å.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```
/digest
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã (—á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è)
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö

**–û—Ç–≤–µ—Ç:**
```
üìù –î–ê–ô–î–ñ–ï–°–¢ –ß–ê–¢–ê –ó–ê –°–ï–ì–û–î–ù–Ø

üìù –ö—Ä–∞—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑ (Summary):
[–í—ã–¥–µ–ª—è–µ—Ç —Å—É—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏–π –∑–∞ –¥–µ–Ω—å]

‚úÖ Action Items:
‚Ä¢ –ó–∞–¥–∞—á–∞ 1
‚Ä¢ –ó–∞–¥–∞—á–∞ 2

üîç –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
[–ì–ª–∞–≤–Ω—ã–µ —Ç–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤]
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –°–æ–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤: Qwen ‚Üí Gemini ‚Üí DeepSeek
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ç—Ä–∏ –±–ª–æ–∫–∞: Summary, Action Items, –ö–æ–Ω—Ç–µ–∫—Å—Ç

---

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–±–µ–∑ Docker)

#### –ë–æ—Ç

```bash
cd bot
npm install
npm run dev        # –ó–∞–ø—É—Å–∫ —Å hot reload (tsx watch)
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example` (—Å–º. —Ä–∞–∑–¥–µ–ª [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å) –∏ [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è))

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL –∏ Redis
- –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –∑–∞–ø—É—Å–∫–µ

---

#### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```bash
cd web
npm install
npm run dev        # –ó–∞–ø—É—Å–∫ –Ω–∞ http://localhost:3002
npm run dev:api    # –ó–∞–ø—É—Å–∫ API –Ω–∞ http://localhost:3001
```

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
> **‚ö†Ô∏è –í–∞–∂–Ω–æ:** –°–æ–∑–¥–∞–π—Ç–µ `web/.env.local` —Å –≤–∞—à–∏–º–∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏. –≠—Ç–æ—Ç —Ñ–∞–π–ª —Ç–∞–∫–∂–µ –≤ `.gitignore` –∏ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ git.

–°–æ–∑–¥–∞–π—Ç–µ `web/.env.local`:
```env
NEXT_PUBLIC_API_URL=http://localhost:3001
POSTGRES_HOST=localhost
POSTGRES_PORT=5433
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=telegram_bot
GEMINI_API_KEY=your_key
DEEPSEEK_API_KEY=your_key
DASHSCOPE_API_KEY=your_key
DASHSCOPE_BASE_URL=https://dashscope-intl.aliyuncs.com/compatible-mode/v1
DASHSCOPE_MODEL=qwen-plus
```

---

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

**–ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
docker-compose up --build
```

**–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ:**
```bash
docker-compose up -d --build
```

**–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
docker-compose logs -f bot      # –õ–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f web      # –õ–æ–≥–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
docker-compose logs -f postgres # –õ–æ–≥–∏ –ë–î
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
docker-compose down
```

**–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö:**
```bash
docker-compose down -v
```

---

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**
```bash
cd bot
npm test
```

**–¢–µ—Å—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:**
- ‚úÖ –¢–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (6 —Ç–µ—Å—Ç–æ–≤)
- ‚úÖ –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–∏ User (3 —Ç–µ—Å—Ç–∞)
- ‚úÖ –¢–µ—Å—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (3 —Ç–µ—Å—Ç–∞)

**–í—Å–µ–≥–æ: 12 unit-—Ç–µ—Å—Ç–æ–≤**

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Vitest –∏ –º–æ–∫–∞—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (PostgreSQL, Redis), –ø–æ—ç—Ç–æ–º—É —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–æ–¥–Ω—è—Ç–∏—è —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Telegram API   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Bot   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îê
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
         ‚îÇ         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
    ‚îÇPostgreSQL‚îÇ‚óÑ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îê
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ  ‚îÇ
                   ‚îÇ  ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ  ‚îÇ
    ‚îÇ  Redis   ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
                      ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
    ‚îÇ   Web   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ (Next.js)‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–æ—Ç–∞

```
bot/src/
‚îÇ
‚îú‚îÄ‚îÄ index.ts                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ (/stats, /analyze, /digest)
‚îÇ   ‚îú‚îÄ‚îÄ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (–∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
‚îÇ   ‚îî‚îÄ‚îÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (PostgreSQL, Redis, Gemini)
‚îÇ
‚îú‚îÄ‚îÄ handlers/                   # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ statsHandlers.ts        # /stats ‚Üí StatsService
‚îÇ   ‚îú‚îÄ‚îÄ analyzeHandlers.ts      # /analyze ‚Üí LLM Services
‚îÇ   ‚îî‚îÄ‚îÄ digestHandlers.ts       # /digest ‚Üí DigestService
‚îÇ
‚îú‚îÄ‚îÄ services/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ statsService.ts         # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + Redis –∫—ç—à
‚îÇ   ‚îú‚îÄ‚îÄ geminiService.ts        # Gemini API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ deepseekService.ts      # DeepSeek API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ qwenService.ts         # Qwen API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ digestService.ts       # –î–Ω–µ–≤–Ω–æ–π –¥–∞–π–¥–∂–µ—Å—Ç
‚îÇ
‚îî‚îÄ‚îÄ models/                     # –†–∞–±–æ—Ç–∞ —Å –ë–î
    ‚îú‚îÄ‚îÄ User.ts                 # CRUD –¥–ª—è users
    ‚îî‚îÄ‚îÄ Message.ts              # CRUD –¥–ª—è messages
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```
web/app/
‚îÇ
‚îú‚îÄ‚îÄ page.tsx                    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Client Component)
‚îÇ   ‚îú‚îÄ‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (useEffect ‚Üí /api/overview)
‚îÇ   ‚îú‚îÄ‚îÄ –§–æ—Ä–º–∞ –∞–Ω–∞–ª–∏–∑–∞ (handleSubmit ‚Üí /api/analyze)
‚îÇ   ‚îî‚îÄ‚îÄ –§–æ—Ä–º–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (handleCompare ‚Üí /api/analyze √ó 2)
‚îÇ
‚îú‚îÄ‚îÄ api/                        # API Routes (Server Components)
‚îÇ   ‚îú‚îÄ‚îÄ analyze/route.ts        # POST /api/analyze
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ –í–∞–ª–∏–¥–∞—Ü–∏—è username
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ –í—ã–±–æ—Ä LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ –í—ã–∑–æ–≤ LLM API
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ overview/route.ts       # GET /api/overview
‚îÇ       ‚îú‚îÄ‚îÄ –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ       ‚îú‚îÄ‚îÄ –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ       ‚îî‚îÄ‚îÄ –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚îÇ
‚îî‚îÄ‚îÄ globals.css                 # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ (glassmorphism)
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

**–ê–Ω–∞–ª–∏–∑ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí /analyze @username
    ‚Üì
analyzeHandlers.ts
    ‚Üì
QwenService.analyzeUser()
    ‚Üì
User.findByTelegramId() ‚Üí PostgreSQL
Message.findByUserId() ‚Üí PostgreSQL
    ‚Üì
QwenService.createAnalysisPrompt()
    ‚Üì
OpenAI API (Qwen)
    ‚Üì
QwenService.parseAnalysisResponse()
    ‚Üì
formatAnalysisResult()
    ‚Üì
Telegram —Å–æ–æ–±—â–µ–Ω–∏–µ
```

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí /stats
    ‚Üì
statsHandlers.ts
    ‚Üì
StatsService.getChatStats()
    ‚Üì
Redis.get(cacheKey) ‚Üí –µ—Å–ª–∏ –µ—Å—Ç—å, –≤–µ—Ä–Ω—É—Ç—å
    ‚Üì (–µ—Å–ª–∏ –Ω–µ—Ç –≤ –∫—ç—à–µ)
Message.getStats() ‚Üí PostgreSQL
    ‚Üì
Redis.set(cacheKey, TTL=20min)
    ‚Üì
formatGeneralStats()
    ‚Üì
Telegram —Å–æ–æ–±—â–µ–Ω–∏–µ
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

**–†–µ—à–µ–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ fallback –º–µ–∂–¥—É —Ç—Ä–µ–º—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ (DeepSeek ‚Üí Qwen ‚Üí Gemini)

**–ü–æ—á–µ–º—É:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API —á–∞—Å—Ç–æ –∏–º–µ—é—Ç –ª–∏–º–∏—Ç—ã –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- –†–∞–∑–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
- –ü–æ–≤—ã—à–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `UserAnalysis` –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

### 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Redis

**–†–µ—à–µ–Ω–∏–µ:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 20 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `CACHE_TTL`)

**–ü–æ—á–µ–º—É:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ PostgreSQL
- –£—Å–∫–æ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç –±–æ—Ç–∞

**–ö–ª—é—á–∏ –∫—ç—à–∞:**
- `stats:chat:{chatId}:period:{period}` ‚Äî –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `stats:chat:{chatId}:user:{userId}:period:{period}` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ chat_id

**–†–µ—à–µ–Ω–∏–µ:** –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –ø–æ `chat_id`

**–ü–æ—á–µ–º—É:**
- –ë–æ—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≥—Ä—É–ø–ø–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ù—É–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —á–∞—Ç–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –í—Å–µ –º–µ—Ç–æ–¥—ã –º–æ–¥–µ–ª–µ–π (`Message.findByUserId`, `Message.getStats`, etc.) –ø—Ä–∏–Ω–∏–º–∞—é—Ç `chatId`
- SQL-–∑–∞–ø—Ä–æ—Å—ã –≤–∫–ª—é—á–∞—é—Ç `WHERE chat_id = $N`

---

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è LLM

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã (~40%), –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ 30 —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü–æ—á–µ–º—É:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API –∏–º–µ—é—Ç –ª–∏–º–∏—Ç—ã –Ω–∞ —Ç–æ–∫–µ–Ω—ã
- –ú–µ–Ω—å—à–µ —Ç–æ–∫–µ–Ω–æ–≤ = –±—ã—Å—Ç—Ä–µ–µ –æ—Ç–≤–µ—Ç –∏ –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
- –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞: 6000 —Å–∏–º–≤–æ–ª–æ–≤
- –õ–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π: 30 (–≤–º–µ—Å—Ç–æ 50)
- –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π (–±–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π)

---

### 5. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–∫ –ª–µ–Ω–¥–∏–Ω–≥

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ª–µ–Ω–¥–∏–Ω–≥-–¥–∞—à–±–æ—Ä–¥ –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–π —Ñ–æ—Ä–º—ã

**–ü–æ—á–µ–º—É:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å—Ä–∞–∑—É
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî –ø–æ–ª–µ–∑–Ω–∞—è —Ñ–∏—á–∞
- –õ—É—á—à–∏–π UX

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º
- –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–æ—Ä–º–∞ –∞–Ω–∞–ª–∏–∑–∞ —Å –≤—ã–±–æ—Ä–æ–º LLM
- –§–æ—Ä–º–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤—É—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AI

### –ö–∞–∫–∏–µ AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å

- **Cursor AI** (–æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç) ‚Äî –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞, –æ—Ç–ª–∞–¥–∫–∏
- **Claude Code** (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ) ‚Äî –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Å–ª–æ–∂–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π

### –î–ª—è –∫–∞–∫–∏—Ö –∑–∞–¥–∞—á AI –ø–æ–º–æ–≥ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ

1. **–ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã** (Docker Compose, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
   - AI –±—ã—Å—Ç—Ä–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `docker-compose.yml`
   - –ü–æ–º–æ–≥ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LLM API**
   - AI –ø–æ–º–æ–≥ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
   - –ü–æ–º–æ–≥ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ fallback-–ª–æ–≥–∏–∫–æ–π

3. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**
   - AI —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É Next.js App Router
   - –ü–æ–º–æ–≥ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º API routes
   - –°–æ–∑–¥–∞–ª —Å—Ç–∏–ª–∏ –¥–ª—è –ª–µ–Ω–¥–∏–Ω–≥–∞ (glassmorphism)

4. **–û—Ç–ª–∞–¥–∫–∞ –æ—à–∏–±–æ–∫**
   - AI –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏–ª –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–æ–∫ –ø–æ –ª–æ–≥–∞–º
   - –ü—Ä–µ–¥–ª–∞–≥–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

5. **–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**
   - AI –ø–æ–º–æ–≥ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–µ—Å—Ç–æ–≤ —Å –º–æ–∫–∞–º–∏
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ì–¥–µ –ø—Ä–∏—à–ª–æ—Å—å –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥

1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API**
   - AI –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞–ª –≤—Å–µ edge cases (402, 404, 429)
   - –ü—Ä–∏—à–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ chat_id**
   - AI –Ω–µ —Å—Ä–∞–∑—É –ø–æ–Ω—è–ª, —á—Ç–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ —á–∞—Ç—É
   - –ü—Ä–∏—à–ª–æ—Å—å —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –≤–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã

3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è TypeScript**
   - AI –∏–Ω–æ–≥–¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –∫–æ–¥ —Å `any` —Ç–∏–ø–∞–º–∏
   - –ü—Ä–∏—à–ª–æ—Å—å —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤**
   - –ü–µ—Ä–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ –±—ã–ª–∏ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–º–∏
   - –ü—Ä–∏—à–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é —Å–æ–∫—Ä–∞—â–∞—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—É—Ç—å

5. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker**
   - AI –Ω–µ —Å—Ä–∞–∑—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ü—Ä–∏—à–ª–æ—Å—å —è–≤–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `docker-compose.yml`

### –ü—Ä–∏–º–µ—Ä–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏, —Å—ç–∫–æ–Ω–æ–º–ª–µ–Ω–Ω–æ–≥–æ AI

- **–ë–µ–∑ AI:** ~15-20 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
- **–° AI:** ~6-8 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
- **–≠–∫–æ–Ω–æ–º–∏—è:** ~50-60% –≤—Ä–µ–º–µ–Ω–∏

–û—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è –±—ã–ª–∞ –Ω–∞:
- –ù–∞—Å—Ç—Ä–æ–π–∫–µ Docker –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Å—ç–∫–æ–Ω–æ–º–∏–ª–∏ ~3-4 —á–∞—Å–∞)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ LLM API (—Å—ç–∫–æ–Ω–æ–º–∏–ª–∏ ~2-3 —á–∞—Å–∞)
- –°–æ–∑–¥–∞–Ω–∏–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—Å—ç–∫–æ–Ω–æ–º–∏–ª–∏ ~2 —á–∞—Å–∞)

### –í—ã–≤–æ–¥—ã

AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ boilerplate –∫–æ–¥–∞
- –ë—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–∏—Å–∫–∞ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∑–∞–¥–∞—á

–ù–æ —Ç—Ä–µ–±—É—é—Ç:
- –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- –ü–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
- –†—É—á–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏ edge cases –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ö–µ–º–∞ –ë–î

**–¢–∞–±–ª–∏—Ü–∞ `users`:**
```sql
- id (SERIAL PRIMARY KEY)
- telegram_id (BIGINT UNIQUE NOT NULL)
- username (VARCHAR(255))
- first_name (VARCHAR(255))
- last_name (VARCHAR(255))
- created_at (TIMESTAMP)
- updated_at (TIMESTAMP)
```

**–¢–∞–±–ª–∏—Ü–∞ `messages`:**
```sql
- id (SERIAL PRIMARY KEY)
- user_id (INTEGER ‚Üí users.id)
- telegram_message_id (BIGINT)
- chat_id (BIGINT)
- text (TEXT)
- created_at (TIMESTAMP)
- UNIQUE(telegram_message_id, chat_id)
```

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_messages_user_id` ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- `idx_messages_chat_id` ‚Äî –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —á–∞—Ç—É
- `idx_messages_created_at` ‚Äî –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `idx_users_telegram_id` ‚Äî –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ Telegram ID

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

**Docker:**
```bash
docker-compose logs -f bot      # –õ–æ–≥–∏ –±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs bot --tail 100  # –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
```

**–õ–æ–∫–∞–ª—å–Ω–æ:**
- –õ–æ–≥–∏ –±–æ—Ç–∞ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- –õ–æ–≥–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Next.js

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω: `docker-compose ps bot`
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker-compose logs bot`
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ `BOT_TOKEN` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**2. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω: `docker-compose ps postgres`
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç –≤ `.env` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5433)
- –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `POSTGRES_USER`, `POSTGRES_PASSWORD`

**3. –û—à–∏–±–∫–∞ "API –∫–ª—é—á –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"**
- –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ: `docker-compose exec bot printenv | grep API`
- –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä: `docker-compose up -d --build bot`

**4. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤–µ–± –∑–∞–ø—É—â–µ–Ω: `docker-compose ps web`
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç: http://localhost:3001
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker-compose logs web`

---

## üìù –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- [x] **–ë–ª–æ–∫ 1:** –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Docker Compose —Å 4 —Å–µ—Ä–≤–∏—Å–∞–º–∏)
- [x] **–ë–ª–æ–∫ 2:** –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (–±–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- [x] **–ë–ª–æ–∫ 3:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–æ–º–∞–Ω–¥–∞ `/stats` —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [x] **–ë–ª–æ–∫ 4:** LLM-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–∫–æ–º–∞–Ω–¥–∞ `/analyze` —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏)
- [x] **–ë–ª–æ–∫ 5:** –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Next.js –ª–µ–Ω–¥–∏–Ω–≥ —Å –¥–∞—à–±–æ—Ä–¥–æ–º)
- [x] **–ë–ª–æ–∫ 6:** –°–≤–æ—è —Ñ–∏—á–∞ ‚Äî –¥–Ω–µ–≤–Ω–æ–π –¥–∞–π–¥–∂–µ—Å—Ç —á–∞—Ç–∞ (`/digest`)
- [x] **–ë–ª–æ–∫ 7:** –¢–µ—Å—Ç—ã (Vitest) ‚Äî 12 unit-—Ç–µ—Å—Ç–æ–≤
- [x] **–ë–ª–æ–∫ 8:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README —Å —Ä–∞–∑–¥–µ–ª–æ–º –ø—Ä–æ AI)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`API_ISSUES.md`** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–±–ª–µ–º–∞–º LLM API –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è–º
- **`task.md`** ‚Äî –∏—Å—Ö–æ–¥–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ CSV/JSON
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –≤ —á–∞—Ç–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è —á–∞—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞–º–∏

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

ISC

---

## üë§ –ê–≤—Ç–æ—Ä - https://github.com/komilovsg

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –∫–∞–∫ —É—á–µ–±–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è Full-Stack Junior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∏—Å–ø–æ–ª—å–∑—É—è AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤**
